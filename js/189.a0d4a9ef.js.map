{"version":3,"file":"js/189.a0d4a9ef.js","mappings":"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","sources":["webpack://new-project/./src/views/backEnd/OrderView.vue","webpack://new-project/./src/components/OrderView.vue","webpack://new-project/./src/components/OrderView.vue?eb88","webpack://new-project/./src/views/backEnd/OrderView.vue?f621"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"container\">\r\n      <table class=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>購買時間</th>\r\n            <th>Email</th>\r\n            <th>購買款項</th>\r\n            <th>應付金額</th>\r\n            <th>是否付款</th>\r\n            <th>編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in orders\" :key=\"item.id\">\r\n            <td>{{ new Date(item.create_at * 1000).toLocaleDateString() }}</td>\r\n            <td>{{ item.user.email }}</td>\r\n            <td>\r\n              <ul class=\"list-unstyled\">\r\n                <li v-for=\"(product, i) in item.orders\" :key=\"i\">\r\n                  {{ product.product.title }} 數量：{{ product.qty }}\r\n                  {{ product.product.unit }} 單價 {{ product.product.price }}\r\n                </li>\r\n              </ul>\r\n            </td>\r\n            <td>\r\n              {{item.total  }}\r\n            </td>\r\n            <td>\r\n              <!-- 產品如果付款完成  -->\r\n              <span v-if=\"item.is_paid\" class=\"text-success\">付款完成</span>\r\n              <span v-else>尚未付款</span>\r\n            </td>\r\n            <td>\r\n              <button class=\"btn btn-outline-primary btn-sm\"\r\n              @click=\"showOrderModel(item)\">詳細</button>\r\n              <button\r\n                class=\"btn btn-outline-danger btn-sm\"\r\n                type=\"button\"\r\n                @click=\"showDeleteModal(item)\"\r\n              >\r\n                刪除\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <PagesView :pages=\"pagination\" @emit-pages=\"getOrders\"></PagesView>\r\n    <!-- 細項 -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"productModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n      ref=\"orderModal\"\r\n    >\r\n      <OrderModal\r\n        :loading=\"loading\"\r\n        :order=\"order\"\r\n        @update-order=\"updateOrder\"\r\n      ></OrderModal>\r\n    </div>\r\n    <!-- 刪除產品 Modal -->\r\n    <div id=\"delProductModal\" ref=\"delModal\" class=\"modal fade\" tabindex=\"-1\"\r\n      aria-labelledby=\"delProductModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header bg-danger text-white\">\r\n            <h5 id=\"delProductModalLabel\" class=\"modal-title\">\r\n              <span>刪除產品</span>\r\n            </h5>\r\n            <button type=\"button\" class=\"btn-close\" aria-label=\"Close\"\r\n              @click=\"hideModal\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            是否刪除\r\n            <strong class=\"text-danger\"></strong> 商品(刪除後將無法恢復)。\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button v-if=\"!loading\" type=\"button\" class=\"btn btn-outline-secondary\"\r\n              @click=\"hideModal\">\r\n              取消\r\n            </button>\r\n            <button v-if=\"!loading\" type=\"button\" class=\"btn btn-danger\"\r\n              @click=\"deleteProduct(this.order)\">\r\n              確認刪除\r\n            </button>\r\n            <div v-if=\"loading\" class=\"spinner-border text-primary\" role=\"status\">\r\n              <span class=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal';\r\nimport PagesView from '../../components/PagesView.vue';\r\nimport OrderModal from '../../components/OrderView.vue';\r\n\r\nexport default {\r\n  components: {\r\n    PagesView,\r\n    OrderModal,\r\n  },\r\n  data() {\r\n    return {\r\n      // table\r\n      orders: null,\r\n      order: {},\r\n      pagination: {},\r\n      loading: false,\r\n      loadInput: null,\r\n      // modal\r\n      modalTitle: null,\r\n      isEditing: false,\r\n      orderModal: null,\r\n      deleteModal: null,\r\n      product: {\r\n        imagesUrl: [],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getOrders(page = 1) {\r\n      this.axios.get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`)\r\n        .then((response) => {\r\n          // pagination\r\n          this.orders = response.data.orders;\r\n          this.pagination = response.data.pagination;\r\n          console.log(response.data, 'getOrders');\r\n          this.loading = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error, 'getOrders');\r\n        });\r\n    },\r\n    showOrderModel(clickOrder) {\r\n      console.log(clickOrder, 'cli');\r\n      this.order = clickOrder;\r\n      this.orderModal.show();\r\n    },\r\n    updateOrder(order) {\r\n      const data = {\r\n        data: {\r\n          is_paid: order.is_paid,\r\n        },\r\n      };\r\n      this.loading = true;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${order.id}`;\r\n      this.axios.put(url, data)\r\n        .then((response) => {\r\n          console.log(response, 'updateOrder');\r\n          this.orderModal.hide();\r\n          this.getOrders();\r\n          alert('更改完成');\r\n        })\r\n        .catch((error) => {\r\n          console.log(error, 'getOrders');\r\n        });\r\n    },\r\n    showDeleteModal(clickOrder) {\r\n      this.deleteModal.show();\r\n      this.order = clickOrder;\r\n    },\r\n    // modal\r\n    hideModal() {\r\n      console.log('hide');\r\n      this.deleteModal.hide();\r\n    },\r\n    deleteProduct(order) {\r\n      this.loading = true;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${order.id}`;\r\n      console.log(url);\r\n      this.axios.delete(url)\r\n        .then((response) => {\r\n          console.log(response, 'delete');\r\n          alert('成功刪除');\r\n          this.hideModal();\r\n          this.getOrders();\r\n        })\r\n        .catch((error) => {\r\n          console.log(error, 'daltet');\r\n        });\r\n    },\r\n    signinCheck() {\r\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\r\n      this.axios.defaults.headers.common.Authorization = token;\r\n      this.loading = true;\r\n      this.axios.post(` ${process.env.VUE_APP_API}/api/user/check`)\r\n        .then(() => {\r\n          this.getOrders();\r\n        })\r\n        .catch(() => {\r\n          this.$router.push('/login');\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.signinCheck();\r\n    this.deleteModal = new Modal(this.$refs.delModal);\r\n    this.orderModal = new Modal(this.$refs.orderModal);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n","<template>\r\n  <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n    <div class=\"modal-content border-0\">\r\n      <div class=\"modal-header bg-dark text-white\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n          <span>訂單細節</span>\r\n        </h5>\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn-close\"\r\n          data-bs-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n        ></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4\">\r\n            <h3>用戶資料</h3>\r\n            <table class=\"table\">\r\n              <tbody v-if=\"propsOrder.user\">\r\n                <tr>\r\n                  <th style=\"width: 100px\">姓名</th>\r\n                  <td>{{ propsOrder.user.name }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Email</th>\r\n                  <td>{{ propsOrder.user.email }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>電話</th>\r\n                  <td>{{ propsOrder.user.tel }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>地址</th>\r\n                  <td>{{ propsOrder.user.address }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"col-md-8\">\r\n            <h3>訂單細節</h3>\r\n            <table class=\"table\">\r\n              <tbody>\r\n                <tr>\r\n                  <th style=\"width: 100px\">訂單編號</th>\r\n                  <td>{{ propsOrder.id }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>下單時間</th>\r\n                  <td>{{ new Date(propsOrder.create_at * 1000).toLocaleDateString() }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>付款時間</th>\r\n                  <td>\r\n                    <span v-if=\"propsOrder.paid_date\">\r\n                      {{ propsOrder.paid_date }}\r\n                    </span>\r\n                    <span v-else>時間不正確</span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>付款狀態</th>\r\n                  <td>\r\n                    <strong v-if=\"propsOrder.is_paid\" class=\"text-success\"\r\n                      >已付款</strong\r\n                    >\r\n                    <span v-else class=\"text-muted\">尚未付款</span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>總金額</th>\r\n                  <td>\r\n                    {{ propsOrder.total }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <h3>選購商品</h3>\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>商品名稱</th>\r\n                  <th>數量/單位</th>\r\n                  <th class=\"text-end\">總價</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"item in propsOrder.products\" :key=\"item.id\">\r\n                  <th>\r\n                    {{ item.product.title }}\r\n                  </th>\r\n                  <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                  <td class=\"text-end\">\r\n                    {{ item.final_total }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"d-flex justify-content-end\">\r\n              <div class=\"form-check\">\r\n                <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  value=\"\"\r\n                  v-model=\"propsOrder.is_paid\"\r\n                  id=\"flexCheckDefault\"\r\n                />\r\n                <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                  <span v-if=\"propsOrder.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button\r\n          v-if=\"!loading\"\r\n          type=\"button\"\r\n          class=\"btn btn-outline-secondary\"\r\n          data-bs-dismiss=\"modal\"\r\n        >\r\n          取消\r\n        </button>\r\n        <button\r\n          v-if=\"!loading\"\r\n          type=\"button\"\r\n          class=\"btn btn-primary\"\r\n          @click=\"updateOrder(propsOrder)\"\r\n        >\r\n          修改付款狀態\r\n        </button>\r\n        <div v-if=\"loading\" class=\"spinner-border text-primary\" role=\"status\">\r\n          <span class=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default() { return {}; },\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default() { return false; },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      propsOrder: {},\r\n      isPaid: false,\r\n    };\r\n  },\r\n  emits: ['update-order'],\r\n  methods: {\r\n    updateOrder(item) {\r\n      this.$emit('update-order', item);\r\n    },\r\n  },\r\n  watch: {\r\n    order() {\r\n      this.propsOrder = this.order;\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./OrderView.vue?vue&type=template&id=ca70fdfc\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\2022 Vue 直播班\\\\新增資料夾 (3)\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrderView.vue?vue&type=template&id=77501fa2\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\2022 Vue 直播班\\\\新增資料夾 (3)\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","tabindex","role","ref","_hoisted_19","_createElementBlock","_hoisted_4","_Fragment","_renderList","$data","item","key","_toDisplayString","Date","create_at","toLocaleDateString","user","email","orders","product","i","title","qty","unit","price","total","is_paid","_hoisted_7","onClick","$options","_hoisted_8","type","_hoisted_9","_createVNode","_component_PagesView","pages","onEmitPages","_component_OrderModal","loading","order","onUpdateOrder","_hoisted_15","_hoisted_16","_hoisted_20","style","for","_hoisted_38","_hoisted_3","_hoisted_10","name","_hoisted_11","_hoisted_12","tel","_hoisted_13","address","_hoisted_17","_hoisted_18","paid_date","_hoisted_21","_hoisted_22","_hoisted_25","_hoisted_26","_hoisted_28","products","final_total","value","$event","_hoisted_33","_hoisted_34","$props","_hoisted_39","props","Object","default","Boolean","data","status","modal","propsOrder","isPaid","emits","methods","updateOrder","this","$emit","watch","mounted","__exports__","components","PagesView","OrderModal","pagination","loadInput","modalTitle","isEditing","orderModal","deleteModal","imagesUrl","getOrders","page","axios","get","then","response","console","log","catch","error","showOrderModel","clickOrder","show","url","put","hide","alert","showDeleteModal","hideModal","deleteProduct","delete","signinCheck","token","document","cookie","replace","defaults","headers","common","Authorization","post","$router","push","Modal","$refs","delModal","render"],"sourceRoot":""}